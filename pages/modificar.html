<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modificar y Eliminar Datos</title>
    <link rel="stylesheet" href="../style/styles.css">
    <link rel="stylesheet" href="../style/gestion.css">
    <style>
        /* Estilos adicionales específicos para modificar.html */
        .search-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
        }
        
        .search-input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
        }
        
        .search-button {
            background-color: #0066cc;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .search-button:hover {
            background-color: #0055a5;
        }
        
        .search-button.secondary {
            background-color: #6c757d;
        }
        
        .search-button.secondary:hover {
            background-color: #5a6268;
        }
        
        .buttons-container {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .btn-guardar {
            background-color: #0066cc;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .btn-guardar:hover {
            background-color: #0055a5;
        }
        
        .btn-eliminar {
            background-color: #F44336;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .btn-eliminar:hover {
            background-color: #d32f2f;
        }
        
        .btn-secondary {
            background-color: #6c757d;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .btn-secondary:hover {
            background-color: #5a6268;
        }
        
        .flex-container {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        
        .flex-column {
            flex: 1;
        }
        
        .selection-column {
            flex: 1;
        }
        
        .edit-column {
            flex: 2;
        }
        
        .select-multiple {
            height: auto;
            min-height: 300px;
            width: 100%;
        }
        
        .estado-mensaje {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-weight: bold;
        }
        
        .estado-mensaje.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .estado-mensaje.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .estado-mensaje.info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .form-help {
            font-size: 0.8rem;
            color: #6c757d;
            margin-top: 3px;
            display: block;
        }
        
        .input-with-prefix {
            display: flex;
            align-items: center;
        }
        
        .input-prefix {
            padding: 12px;
            background-color: #e9ecef;
            border: 1px solid #ddd;
            border-right: none;
            border-radius: 6px 0 0 6px;
            color: #495057;
        }
        
        .input-with-prefix input {
            border-radius: 0 6px 6px 0;
            flex: 1;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .flex-container {
                flex-direction: column;
            }
            
            .selection-column,
            .edit-column {
                width: 100%;
            }
            
            .select-multiple {
                min-height: 150px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Sistema de Gestión de Productos y Pedidos</h1>
        <nav>
            <ul>
                <li><a href="../index.html#productos">Productos</a></li>
                <li><a href="../index.html#categorias">Categorías</a></li>
                <li><a href="../index.html#sucursales">Sucursales</a></li>
                <li><a href="../index.html#pedidos">Pedidos / Ordenes de Compra</a></li>
                <li><a href="../index.html#ordenes-compra">Órdenes</a></li>
                <li><a href="../index.html#clientes">Clientes</a></li>
                <li><a href="../index.html#personal">Personal</a></li>
                <li><a href="gestion.html">Gestión</a></li>
                <li><a href="modificar.html" class="active">Modificar</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="gestion">
            <h2>Modificar y Eliminar Datos</h2>
            <div class="tabs">
                <button class="tab-btn active" onclick="openTab('modificarProducto')">Productos</button>
                <button class="tab-btn" onclick="openTab('modificarCategoria')">Categorías</button>
                <button class="tab-btn" onclick="openTab('modificarSucursal')">Sucursales</button>
                <button class="tab-btn" onclick="openTab('modificarCliente')">Clientes</button>
                <button class="tab-btn" onclick="openTab('modificarEmpleado')">Empleados</button>
                <button class="tab-btn" onclick="openTab('modificarPedido')">Pedidos</button>
            </div>

            <!-- Formulario para modificar productos -->
            <div id="modificarProducto" class="tab-content active">
                <h3>Modificar o Eliminar Producto</h3>
                
                <!-- Sección de búsqueda mejorada -->
                <div class="search-container">
                    <input type="text" id="productoBuscar" placeholder="Buscar por nombre o SKU del producto" class="search-input">
                    <button type="button" id="btnBuscarProducto" class="search-button">Buscar</button>
                    <button type="button" id="btnMostrarTodosProductos" class="search-button secondary">Mostrar Todos</button>
                </div>
                
                <!-- Mensaje de estado para retroalimentación -->
                <div id="productoEstadoMensaje" class="estado-mensaje" style="display: none;"></div>
                
                <!-- Separamos en dos columnas: selección y edición -->
                <div class="flex-container">
                    <!-- Columna de selección -->
                    <div class="flex-column selection-column">
                        <div class="form-group">
                            <label for="productoSeleccionado">Seleccione un producto para modificar:</label>
                            <select id="productoSeleccionado" required size="10" class="select-multiple">
                                <option value="">Cargando productos...</option>
                                <!-- Se cargará dinámicamente -->
                            </select>
                            <small class="form-help">Seleccione un producto para cargar sus datos</small>
                        </div>
                    </div>
                    
                    <!-- Columna de edición -->
                    <div class="flex-column edit-column">
                        <form id="formModificarProducto">
                            <fieldset>
                                <legend>Detalles del Producto</legend>
                                
                                <div class="form-group">
                                    <label for="productoNombre">Nombre:</label>
                                    <input type="text" id="productoNombre" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="productoCategoria">Categoría:</label>
                                    <select id="productoCategoria" required>
                                        <option value="">Seleccione una categoría</option>
                                        <!-- Se cargará dinámicamente -->
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="productoSKU">SKU:</label>
                                    <input type="text" id="productoSKU" required>
                                    <small class="form-help">Código único del producto</small>
                                </div>
                                
                                <div class="form-group">
                                    <label for="productoPrecio">Precio:</label>
                                    <div class="input-with-prefix">
                                        <span class="input-prefix">$</span>
                                        <input type="number" id="productoPrecio" min="0" step="0.01" required>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="productoEstado">Estado:</label>
                                    <select id="productoEstado" required>
                                        <option value="Disponible">Disponible</option>
                                        <option value="Agotado">Agotado</option>
                                    </select>
                                </div>
                            </fieldset>
                            
                            <div class="buttons-container">
                                <button type="submit" class="btn-guardar">Guardar Cambios</button>
                                <button type="button" id="btnLimpiarProducto" class="btn-secondary">Limpiar</button>
                                <button type="button" id="btnEliminarProducto" class="btn-eliminar">Eliminar Producto</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Formulario para modificar categorías -->
            <div id="modificarCategoria" class="tab-content">
                <h3>Modificar o Eliminar Categoría</h3>
                <div class="search-container">
                    <input type="text" id="categoriaBuscar" placeholder="Nombre de la categoría" class="search-input">
                    <button type="button" id="btnBuscarCategoria" class="search-button">Buscar</button>
                    <button type="button" id="btnMostrarTodasCategorias" class="search-button secondary">Mostrar Todas</button>
                </div>
                
                <!-- Mensaje de estado para retroalimentación -->
                <div id="categoriaEstadoMensaje" class="estado-mensaje" style="display: none;"></div>
                <form id="formModificarCategoria">
                    <div class="form-group">
                        <label for="categoriaSeleccionada">Seleccionar categoría:</label>
                        <select id="categoriaSeleccionada" required>
                            <option value="">Seleccione una categoría</option>
                            <!-- Se cargará dinámicamente -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="categoriaNombre">Nombre:</label>
                        <input type="text" id="categoriaNombre" required>
                    </div>
                    <div class="form-group">
                        <label for="categoriaDescripcion">Descripción:</label>
                        <textarea id="categoriaDescripcion" rows="3"></textarea>
                    </div>
                    <div class="buttons-container">
                        <button type="submit" class="btn-guardar">Guardar Cambios</button>
                        <button type="button" id="btnEliminarCategoria" class="btn-eliminar">Eliminar Categoría</button>
                    </div>
                </form>
            </div>

            <!-- Formulario para modificar sucursales -->
            <div id="modificarSucursal" class="tab-content">
                <h3>Modificar o Eliminar Sucursal</h3>
                <div class="search-container">
                    <input type="text" id="sucursalBuscar" placeholder="Nombre o dirección de la sucursal" class="search-input">
                    <button type="button" id="btnBuscarSucursal" class="search-button">Buscar</button>
                    <button type="button" id="btnMostrarTodasSucursales" class="search-button secondary">Mostrar Todas</button>
                </div>
                
                <!-- Mensaje de estado para retroalimentación -->
                <div id="sucursalEstadoMensaje" class="estado-mensaje" style="display: none;"></div>
                <form id="formModificarSucursal">
                    <div class="form-group">
                        <label for="sucursalSeleccionada">Seleccionar sucursal:</label>
                        <select id="sucursalSeleccionada" required>
                            <option value="">Seleccione una sucursal</option>
                            <!-- Se cargará dinámicamente -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="sucursalNombre">Nombre:</label>
                        <input type="text" id="sucursalNombre" required>
                    </div>
                    <div class="form-group">
                        <label for="sucursalDireccion">Dirección:</label>
                        <input type="text" id="sucursalDireccion" required>
                    </div>
                    <div class="form-group">
                        <label for="sucursalProvincia">Provincia:</label>
                        <input type="text" id="sucursalProvincia" required>
                    </div>
                    <div class="form-group">
                        <label for="sucursalTelefono">Teléfono:</label>
                        <input type="text" id="sucursalTelefono" required>
                    </div>
                    <div class="buttons-container">
                        <button type="submit" class="btn-guardar">Guardar Cambios</button>
                        <button type="button" id="btnEliminarSucursal" class="btn-eliminar">Eliminar Sucursal</button>
                    </div>
                </form>
            </div>

            <!-- Formulario para modificar clientes -->
            <div id="modificarCliente" class="tab-content">
                <h3>Modificar o Eliminar Cliente</h3>
                <div class="search-container">
                    <input type="text" id="clienteBuscar" placeholder="Nombre, apellido o email del cliente" class="search-input">
                    <button type="button" id="btnBuscarCliente" class="search-button">Buscar</button>
                    <button type="button" id="btnMostrarTodosClientes" class="search-button secondary">Mostrar Todos</button>
                </div>
                
                <!-- Mensaje de estado para retroalimentación -->
                <div id="clienteEstadoMensaje" class="estado-mensaje" style="display: none;"></div>
                <form id="formModificarCliente">
                    <div class="form-group">
                        <label for="clienteSeleccionado">Seleccionar cliente:</label>
                        <select id="clienteSeleccionado" required>
                            <option value="">Seleccione un cliente</option>
                            <!-- Se cargará dinámicamente -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="clienteNombre">Nombre:</label>
                        <input type="text" id="clienteNombre" required>
                    </div>
                    <div class="form-group">
                        <label for="clienteApellido">Apellido:</label>
                        <input type="text" id="clienteApellido" required>
                    </div>
                    <div class="form-group">
                        <label for="clienteEmail">Email:</label>
                        <input type="email" id="clienteEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="clienteTelefono">Teléfono:</label>
                        <input type="text" id="clienteTelefono" required>
                    </div>
                    <div class="buttons-container">
                        <button type="submit" class="btn-guardar">Guardar Cambios</button>
                        <button type="button" id="btnEliminarCliente" class="btn-eliminar">Eliminar Cliente</button>
                    </div>
                </form>
            </div>

            <!-- Formulario para modificar empleados -->
            <div id="modificarEmpleado" class="tab-content">
                <h3>Modificar o Eliminar Empleado</h3>
                <div class="search-container">
                    <input type="text" id="empleadoBuscar" placeholder="Nombre o apellido del empleado" class="search-input">
                    <button type="button" id="btnBuscarEmpleado" class="search-button">Buscar</button>
                    <button type="button" id="btnMostrarTodosEmpleados" class="search-button secondary">Mostrar Todos</button>
                </div>
                
                <!-- Mensaje de estado para retroalimentación -->
                <div id="empleadoEstadoMensaje" class="estado-mensaje" style="display: none;"></div>
                <form id="formModificarEmpleado">
                    <div class="form-group">
                        <label for="empleadoSeleccionado">Seleccionar empleado:</label>
                        <select id="empleadoSeleccionado" required>
                            <option value="">Seleccione un empleado</option>
                            <!-- Se cargará dinámicamente -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="empleadoNombre">Nombre:</label>
                        <input type="text" id="empleadoNombre" required>
                    </div>
                    <div class="form-group">
                        <label for="empleadoApellido">Apellido:</label>
                        <input type="text" id="empleadoApellido" required>
                    </div>
                    <div class="form-group">
                        <label for="empleadoCargo">Cargo:</label>
                        <select id="empleadoCargo" required>
                            <option value="">Seleccione un cargo</option>
                            <!-- Se cargará dinámicamente -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="empleadoSucursal">Sucursal:</label>
                        <select id="empleadoSucursal" required>
                            <option value="">Seleccione una sucursal</option>
                            <!-- Se cargará dinámicamente -->
                        </select>
                    </div>
                    <div class="buttons-container">
                        <button type="submit" class="btn-guardar">Guardar Cambios</button>
                        <button type="button" id="btnEliminarEmpleado" class="btn-eliminar">Eliminar Empleado</button>
                    </div>
                </form>
            </div>

            <!-- Formulario para modificar pedidos -->
            <div id="modificarPedido" class="tab-content">
                <h3>Modificar o Eliminar Pedido</h3>
                <div class="search-container">
                    <input type="text" id="pedidoBuscar" placeholder="Cliente o número de pedido" class="search-input">
                    <button type="button" id="btnBuscarPedido" class="search-button">Buscar</button>
                    <button type="button" id="btnMostrarTodosPedidos" class="search-button secondary">Mostrar Todos</button>
                </div>
                
                <!-- Mensaje de estado para retroalimentación -->
                <div id="pedidoEstadoMensaje" class="estado-mensaje" style="display: none;"></div>
                <form id="formModificarPedido">
                    <div class="form-group">
                        <label for="pedidoSeleccionado">Seleccionar pedido:</label>
                        <select id="pedidoSeleccionado" required>
                            <option value="">Seleccione un pedido</option>
                            <!-- Se cargará dinámicamente -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pedidoCliente">Cliente:</label>
                        <select id="pedidoCliente" required>
                            <option value="">Seleccione un cliente</option>
                            <!-- Se cargará dinámicamente -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pedidoSucursal">Sucursal:</label>
                        <select id="pedidoSucursal" required>
                            <option value="">Seleccione una sucursal</option>
                            <!-- Se cargará dinámicamente -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pedidoFecha">Fecha:</label>
                        <input type="date" id="pedidoFecha" required>
                    </div>
                    <div class="form-group">
                        <label for="pedidoEstado">Estado:</label>
                        <select id="pedidoEstado" required>
                            <option value="Pendiente">Pendiente</option>
                            <option value="En proceso">En proceso</option>
                            <option value="Enviado">Enviado</option>
                            <option value="Entregado">Entregado</option>
                            <option value="Cancelado">Cancelado</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="pedidoCanal">Canal:</label>
                        <select id="pedidoCanal" required>
                            <option value="Web">Web</option>
                            <option value="Tienda">Tienda</option>
                            <option value="Teléfono">Teléfono</option>
                            <option value="Aplicación">Aplicación</option>
                            <option value="Otro">Otro</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Productos:</label>
                        <div id="productosContainer">
                            <!-- Se cargarán dinámicamente los productos del pedido -->
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="pedidoTotal">Total:</label>
                        <input type="text" id="pedidoTotal" disabled>
                    </div>
                    <div class="buttons-container">
                        <button type="submit" class="btn-guardar">Guardar Cambios</button>
                        <button type="button" id="btnEliminarPedido" class="btn-eliminar">Eliminar Pedido</button>
                    </div>
                </form>
            </div>
        </section>
    </main>

    <footer>
        <p>Sistema de Gestión - Trabajo Final Integrador de Bases de Datos</p>
    </footer>

    <!-- Cargamos solo el script de modificar, sin el script principal -->
    <script src="../script/modificar.js"></script>
</body>
</html>